<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>STREETBALL ULTIMATE - DYNAMIC GREEN</title>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
<link rel="stylesheet" href="src/styles/main.css">
</head>
<body>
<script type="module" src="src/main.js"></script>
<!-- <script type="module" src="main.js"></script> -->
<div id="game-wrapper">
    <div id="game-container">
        <canvas id="gameCanvas" width="960" height="600"></canvas>
        <button class="retro-btn settings-btn" id="btn-open-settings">SETTINGS ‚öôÔ∏è</button>
        <div class="ui-layer" id="game-ui" style="display:none;">
            <div class="powerup-cards">
                <div class="powerup-card" id="card-x2">
                    <div class="card-title">X2</div>
                    <div class="card-desc">SCORE</div>
                    <div class="card-count" id="count-x2">0</div>
                </div>
                <div class="powerup-card" id="card-big">
                    <div class="card-title">BIG</div>
                    <div class="card-desc">HOOP</div>
                    <div class="card-count" id="count-big">0</div>
                </div>
            </div>
            <div class="top-bar">
                <div class="score-container">
                    <div class="player-panel p1-group" id="p1-panel">
                        <div class="player-label">P1 SCORE</div>
                        <div class="score-display"><span id="score-p1">0</span></div>
                    </div>
                    <div class="player-panel p2-group" id="p2-panel">
                        <div class="player-label">P2 SCORE</div>
                        <div class="score-display"><span id="score-p2">0</span></div>
                    </div>
                </div>
                <div class="center-info">
                    <div class="status-text streak-txt" id="fireVal">üî• FIRE!</div>
                    <div class="status-text rainbow-txt" id="rainbowVal">üåà RAINBOW</div>
                    <div class="status-text x2-txt" id="x2Val">‚úñÔ∏è2 ACTIVE</div>
                </div>
                <div class="balls-container">
                     <div class="ball-display-box p1-balls" id="ballDisplay">
                        <span class="ball-label" id="ballLabelP1">P1 BALLS</span>
                        <span class="ball-count-num" id="ballVal">6</span>
                    </div>
                    <div class="ball-display-box p2-balls hidden" id="ballDisplayP2">
                         <span class="ball-label">P2 BALLS</span>
                        <span class="ball-count-num" id="ballValP2">6</span>
                    </div>
                </div>
            </div>
            <div id="msg">SWISH!</div>
            <div id="countdown-warning">LAST 10s!</div>
            <div id="tutorial-msg" class="tutorial-text hidden">USE ARROW KEYS OR DRAG TO MOVE</div>
            <div id="pos-ui" class="hidden"><button class="pos-lock-btn" id="btn-lock-pos">LOCK & SHOOT</button></div>
            <button class="retro-btn exit-btn" id="btn-exit-game">EXIT</button>

        </div>
        <div id="settings-modal" class="modal-overlay hidden">
            <div class="modal-content">
                <div class="modal-header">SETTINGS</div>
                <div class="setting-row"><span class="setting-label">PORTRAIT MODE</span><label class="switch"><input type="checkbox" id="set-rotate"><span class="slider"></span></label></div>
                <div class="setting-row"><span class="setting-label">BALL COLOR</span><div class="color-control-wrapper"><div class="color-control"><button class="arrow-btn" id="btn-col-prev">‚óÄ</button><div class="color-preview-container"><div class="color-preview" id="col-preview" style="background:#e67e22;"></div><div class="lock-overlay hidden" id="lock-overlay">üîí</div></div><button class="arrow-btn" id="btn-col-next">‚ñ∂</button></div><div class="lock-msg" id="lock-msg"></div></div></div>
                <div class="setting-row"><span class="setting-label">BOUNCE</span><input type="range" id="set-bounce" min="1" max="9" value="6"><span class="setting-val" id="val-bounce">0.6</span></div>
                <div style="font-size: 0.6rem; color: #7f8c8d; text-align: center; margin-top: 10px;">GRAVITY FIXED AT 0.6G FOR RANKING FAIRNESS</div>
                <button class="modal-btn" id="btn-upload-bg" style="background: #9b59b6; box-shadow: 0 6px 0 #8e44ad;">CUSTOM BG üñºÔ∏è</button><input type="file" id="bg-upload" accept="image/*" style="display:none">
                <button class="modal-btn" id="btn-view-history" style="background: #e67e22; box-shadow: 0 6px 0 #d35400;">VIEW HISTORY</button>
                <button class="modal-btn" id="btn-close-settings">SAVE & CLOSE</button>
            </div>
        </div>
        <div id="history-modal" class="modal-overlay hidden">
            <div class="modal-content"><div class="modal-header">RECENT GAME HISTORY</div><div id="history-content-el"><div class="history-loading">LOADING HISTORY...</div></div><button class="modal-btn close-btn" id="btn-close-history">CLOSE</button></div>
        </div>
        <div id="char-select-screen" class="overlay-screen hidden">
            <div class="title-text">SELECT PLAYER</div>
            <div class="char-select-container">
                <div class="char-card selected" id="char-curry" onclick="selectChar('curry')"><canvas id="preview-curry" class="char-canvas-preview" width="100" height="120"></canvas><span class="char-name">CURRY</span><div class="stat-row"><span>SPD</span><div class="stat-bar-bg"><div class="stat-bar-fill" style="width:90%"></div></div></div><div class="stat-row"><span>ZONE</span><span style="color:#f1c40f">3PT</span></div></div>
                <div class="char-card" id="char-lbj" onclick="selectChar('lbj')"><canvas id="preview-lbj" class="char-canvas-preview" width="100" height="120"></canvas><span class="char-name">LBJ</span><div class="stat-row"><span>SPD</span><div class="stat-bar-bg"><div class="stat-bar-fill" style="width:60%"></div></div></div><div class="stat-row"><span>ZONE</span><span style="color:#e67e22">MID</span></div></div>
            </div>
            <button class="menu-btn" id="btn-confirm-char" style="width: 200px; margin-top: 20px;">GO!</button>
        </div>
        <div id="start-screen" class="overlay-screen">
            <div class="start-content">
                <div class="title-text">STREETBALL<br>ULTIMATE</div>
                <div class="start-main-layout">
                    <div class="start-left-col"><div class="start-lb-container"><div class="start-lb-title">üèÜ TOP 5 LEGENDS</div><div id="start-lb-content"><div class="slb-loading">LOADING RANKS...</div></div></div></div>
                    <div class="start-right-col"><div class="highscore-display">PERSONAL BEST: <span id="menu-best">0</span></div><div class="start-input-group"><div class="input-label">ENTER NICKNAME (1P RANK)</div><input type="text" id="input-name" class="name-input-main" placeholder="PLAYER" maxlength="10" value=""></div><button class="menu-btn" id="btn-1p">1 PLAYER START</button><button class="menu-btn inf" id="btn-inf">1P INFINITE MODE</button><button class="menu-btn p2" id="btn-2p">2 PLAYERS (VS)</button></div>
                </div>
            </div>
        </div>
        <div id="turn-msg">P1 READY</div>
        <div id="tutorial-modal" class="modal-overlay hidden">
            <div class="modal-content">
                <div class="modal-header">HOW TO PLAY</div>
                <div style="text-align: left; line-height: 1.8; font-size: 0.9rem; padding: 0 20px;">
                    <p><strong>MOVE:</strong> Use the Left/Right arrow keys to move.</p>
                    <p><strong>SHOOT:</strong> Press Spacebar. Press again on the green bar to shoot, or the gold bar to dunk!</p>
                </div>
                <button class="modal-btn" id="btn-close-tutorial">GOT IT!</button>
            </div>
        </div>
        <div id="game-over" class="overlay-screen hidden">
            <div class="title-text" id="go-title">GAME OVER</div><div id="new-record-msg" class="new-record-anim hidden" style="font-size: 1.2rem; margin-bottom: 10px;">NEW PERSONAL RECORD!</div>
            <div style="font-size: 1.5rem; margin-bottom: 10px; text-align: center; line-height: 2;"><div style="color:#f1c40f;">SCORE: <span id="end-p1">0</span></div><div id="p2-end-score" style="color:#00ffff;">P2 SCORE: <span id="end-p2">0</span></div></div>
            <div id="rank-result-box" class="rank-result-box"><div class="rank-title" id="rank-status-text">CHECKING GLOBAL RANK...</div><div class="rank-val" id="rank-val-text"><span class="rank-loading">...</span></div><div id="rank-percentile-text" class="rank-percentile"></div><div id="skin-unlock-msg" class="skin-unlock-txt hidden">‚ú® SKIN UNLOCKED: GOLDEN BALL ‚ú®</div></div>
            <button class="menu-btn" id="btn-restart" style="margin-top: 20px;">MAIN MENU</button>
        </div>
    </div>
</div>

</body>
</html>

